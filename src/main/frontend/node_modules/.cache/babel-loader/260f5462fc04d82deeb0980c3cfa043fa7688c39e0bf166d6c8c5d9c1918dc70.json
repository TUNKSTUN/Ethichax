{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tunks\\\\Downloads\\\\backend\\\\backend\\\\src\\\\main\\\\frontend\\\\src\\\\pages\\\\Guest.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { RiSendPlane2Fill } from \"react-icons/ri\";\nimport { SiGravatar } from \"react-icons/si\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/database\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA4A3LrAKntsYEjnmgQCCoNWiGxfKXQS6I\",\n  authDomain: \"ethichax.firebaseapp.com\",\n  databaseURL: \"https://ethichax-default-rtdb.asia-southeast1.firebasedatabase.app\",\n  projectId: \"ethichax\",\n  storageBucket: \"ethichax.appspot.com\",\n  messagingSenderId: \"481317404873\",\n  appId: \"1:481317404873:web:27149fa35543002b76cd18\"\n};\nfirebase.initializeApp(firebaseConfig);\nconst db = firebase.database().ref(\"messages\");\nconst Guest = () => {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const [messageCards, setMessageCards] = useState([]);\n  useEffect(() => {\n    db.on(\"value\", snapshot => {\n      if (snapshot.exists()) {\n        const messagesObject = snapshot.val();\n        const messagesArray = Object.keys(messagesObject).map(key => ({\n          id: key,\n          ...messagesObject[key]\n        })).reverse();\n        setMessageCards(messagesArray);\n      }\n    });\n  }, []);\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      db.once(\"value\", snapshot => {\n        if (snapshot.exists()) {\n          const messagesObject = snapshot.val();\n          const messagesArray = Object.keys(messagesObject).map(key => ({\n            id: key,\n            ...messagesObject[key]\n          })).reverse();\n          setMessageCards(messagesArray);\n          const MESSAGE_LIMIT = 50;\n          if (messagesArray.length > MESSAGE_LIMIT) {\n            const oldestMessage = messagesArray[MESSAGE_LIMIT];\n            db.child(oldestMessage.id).remove();\n            messagesArray.splice(0, MESSAGE_LIMIT);\n          }\n        }\n      });\n    }, []);\n    return () => clearInterval(intervalId);\n  }, []);\n  const handleMessageSubmit = event => {\n    event.preventDefault();\n    const newMessage = {\n      text: message,\n      timestamp: Date.now()\n    };\n    db.push(newMessage);\n    setMessage(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"xl:right-0 xl:top-0 lg:right-0 lg:top-0  flex xl:mt-0 lg:mt-0 absolute flex-col p-10 xl:pt-16 lg:pt-16 xl:p-10 lg:p-10 bg-stone-300 pt-32 w-full h-full xl:w-3/4 lg:w-4/5 text-start font-Epilogue \",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-5xl pb-5 font-bold drop-shadow-md\",\n      children: \"Guest Book:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"w-full flex justify-center items-center mb-5\",\n      onSubmit: handleMessageSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"message\",\n        className: \"w-full h-10 px-5 border-none rounded-full font-mono text-2xl tracking-widest bg-stone-900 text-stone-300 text-md shadow-sm shadow-black\",\n        value: message,\n        onChange: event => setMessage(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"px-2 xl:text-xl lg:text-xl text-base transition ease-in-out duration-500 hover:text-stone-700 \",\n        children: /*#__PURE__*/_jsxDEV(RiSendPlane2Fill, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-y-auto scrollbar bg-stone-900 scrollbar-thumb-stone-100 scrollbar-thumb-rounded scrollbar-track-black scroll-auto  transition ease-in-out duration-500 hover:scrollbar-thumb-stone-300 border-black border rounded-md p-2\",\n      children: messageCards.map(messageCard => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-transparent border-b-stone-700 border-b my-4 p-4 text-start text-stone-300 flex text-md xl:text-xl  gap-x-2 shadow-inner shadow-black\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"w-full h-auto rounded-full border-stone-100 border p-3 font-light bg-gradient-to-br from-white to-stone-600 text-stone-800 transition ease-linear duration-75 hover:cursor-pointer hover:bg-stone-100 hover:text-black\",\n          children: /*#__PURE__*/_jsxDEV(SiGravatar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 243\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-md font-mono bg-stone-800 w-full h-auto overflow-x-clip py-1 px-3 rounded-xl\",\n          children: messageCard.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, messageCard.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(Guest, \"IRHRH+y6KtcM+UYs0kG4Q4Intuc=\");\n_c = Guest;\nexport default Guest;\nvar _c;\n$RefreshReg$(_c, \"Guest\");","map":{"version":3,"names":["React","useState","useEffect","RiSendPlane2Fill","SiGravatar","firebase","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","initializeApp","db","database","ref","Guest","message","setMessage","messageCards","setMessageCards","on","snapshot","exists","messagesObject","val","messagesArray","Object","keys","map","key","id","reverse","intervalId","setInterval","once","MESSAGE_LIMIT","length","oldestMessage","child","remove","splice","clearInterval","handleMessageSubmit","event","preventDefault","newMessage","text","timestamp","Date","now","push","target","value","messageCard"],"sources":["C:/Users/Tunks/Downloads/backend/backend/src/main/frontend/src/pages/Guest.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { RiSendPlane2Fill } from \"react-icons/ri\";\r\nimport {SiGravatar} from \"react-icons/si\"\r\nimport firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/database\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA4A3LrAKntsYEjnmgQCCoNWiGxfKXQS6I\",\r\n  authDomain: \"ethichax.firebaseapp.com\",\r\n  databaseURL: \"https://ethichax-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n  projectId: \"ethichax\",\r\n  storageBucket: \"ethichax.appspot.com\",\r\n  messagingSenderId: \"481317404873\",\r\n  appId: \"1:481317404873:web:27149fa35543002b76cd18\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.database().ref(\"messages\");\r\n\r\nconst Guest = () => {\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messageCards, setMessageCards] = useState([]);\r\n\r\n  useEffect(() => {\r\n    db.on(\"value\", (snapshot) => {\r\n      if (snapshot.exists()) {\r\n        const messagesObject = snapshot.val();\r\n        const messagesArray = Object.keys(messagesObject)\r\n          .map((key) => ({ id: key, ...messagesObject[key] }))\r\n          .reverse();\r\n        setMessageCards(messagesArray);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const intervalId = setInterval(() => {\r\n      db.once(\"value\", (snapshot) => {\r\n        if (snapshot.exists()) {\r\n          const messagesObject = snapshot.val();\r\n          const messagesArray = Object.keys(messagesObject)\r\n            .map((key) => ({ id: key, ...messagesObject[key] }))\r\n            .reverse();\r\n          setMessageCards(messagesArray);\r\n\r\n          const MESSAGE_LIMIT = 50;\r\n\r\n          if (messagesArray.length > MESSAGE_LIMIT) {\r\n            const oldestMessage = messagesArray[MESSAGE_LIMIT];\r\n            db.child(oldestMessage.id).remove();\r\n            messagesArray.splice(0, MESSAGE_LIMIT);\r\n          }\r\n          \r\n        }\r\n      });\r\n    }, []);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, []);\r\n\r\n  const handleMessageSubmit = (event) => {\r\n    event.preventDefault();\r\n    const newMessage = { text: message, timestamp: Date.now() };\r\n\r\n    db.push(newMessage);\r\n\r\n    setMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"xl:right-0 xl:top-0 lg:right-0 lg:top-0  flex xl:mt-0 lg:mt-0 absolute flex-col p-10 xl:pt-16 lg:pt-16 xl:p-10 lg:p-10 bg-stone-300 pt-32 w-full h-full xl:w-3/4 lg:w-4/5 text-start font-Epilogue \">\r\n      <h1 className=\"text-5xl pb-5 font-bold drop-shadow-md\">Guest Book:</h1>\r\n      <form\r\n        className=\"w-full flex justify-center items-center mb-5\"\r\n        onSubmit={handleMessageSubmit}\r\n      >\r\n        <input\r\n          type=\"message\"\r\n          className=\"w-full h-10 px-5 border-none rounded-full font-mono text-2xl tracking-widest bg-stone-900 text-stone-300 text-md shadow-sm shadow-black\"\r\n          value={message}\r\n          onChange={(event) => setMessage(event.target.value)}\r\n        />\r\n        <button type=\"submit\" className=\"px-2 xl:text-xl lg:text-xl text-base transition ease-in-out duration-500 hover:text-stone-700 \">\r\n          <RiSendPlane2Fill />\r\n        </button>\r\n      </form>\r\n      <div className=\"overflow-y-auto scrollbar bg-stone-900 scrollbar-thumb-stone-100 scrollbar-thumb-rounded scrollbar-track-black scroll-auto  transition ease-in-out duration-500 hover:scrollbar-thumb-stone-300 border-black border rounded-md p-2\">\r\n\r\n      {messageCards.map((messageCard) => (\r\n        <div\r\n        key={messageCard.id}\r\n        className=\"bg-transparent border-b-stone-700 border-b my-4 p-4 text-start text-stone-300 flex text-md xl:text-xl  gap-x-2 shadow-inner shadow-black\"\r\n        ><span className=\"w-full h-auto rounded-full border-stone-100 border p-3 font-light bg-gradient-to-br from-white to-stone-600 text-stone-800 transition ease-linear duration-75 hover:cursor-pointer hover:bg-stone-100 hover:text-black\"><SiGravatar/></span>\r\n          <div className=\"text-md font-mono bg-stone-800 w-full h-auto overflow-x-clip py-1 px-3 rounded-xl\">{messageCard.text}</div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Guest;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}